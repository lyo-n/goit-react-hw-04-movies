{"version":3,"sources":["service/API.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","service/queryParams.jsx","components/search/searching.jsx","pages/movie/movie.jsx"],"names":["axios","defaults","baseURL","apiKey","API","trendingMovies","then","response","data","results","searchMovies","querySearch","detailsMovies","id","castMovies","cast","reviewsMovies","result","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","strictUriEncode","require","objectAssign","encode","opts","strict","encodeURIComponent","keysSorter","input","Array","isArray","sort","a","b","Number","map","exports","extract","str","split","parse","formatter","arrayFormat","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","create","trim","param","parts","shift","val","join","decodeURIComponent","reduce","Boolean","stringify","index","encoderForArrayFormat","slice","val2","x","module","c","charCodeAt","toString","toUpperCase","queryParams","qStr","queryString","Search","state","handleChange","e","setState","handleSubmit","preventDefault","props","onSubmit","this","type","onChange","Component","MainPage","searchQuery","findeMovies","fetchMovies","query","changeQuery","history","location","search","prevProps","prevState","prevQuery","nextQuery","movie","to","pathname","from","title"],"mappings":"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","file":"static/js/MoviesPage.452e29f3.chunk.js","sourcesContent":["import axios from 'axios';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nconst apiKey = '3011823430ba4360f934c80b54c0176e';\r\n\r\nconst trendingMovies = () => {\r\n  return axios(`/trending/movie/day?api_key=${apiKey}`)\r\n  .then(response => response.data.results,\r\n    );\r\n};\r\n\r\nconst searchMovies = (querySearch) => {\r\n    return axios(`/search/movie?api_key=${apiKey}&query=${querySearch}`)\r\n    .then(response => response.data.results,\r\n    );\r\n};\r\n\r\nconst detailsMovies = (id) => {\r\n    return axios(`/movie/${id}?api_key=${apiKey}`)\r\n    .then(response => response.data,\r\n    );\r\n};\r\n\r\nconst castMovies = (id) => {\r\n    return axios(`/movie/${id}/credits?api_key=${apiKey}`)\r\n    .then(response => response.data.cast,\r\n    );\r\n};\r\n\r\nconst reviewsMovies = (id) => {\r\n    return axios(`/movie/${id}/reviews?api_key=${apiKey}`)\r\n    .then(response => response.data.result,\r\n    );\r\n};\r\n\r\n const API = {\r\n    trendingMovies,\r\n    searchMovies,\r\n    detailsMovies,\r\n    castMovies,\r\n    reviewsMovies,\r\n};\r\n\r\nexport default API;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","import queryString from 'query-string';\r\n\r\nexport default function queryParams(qStr) {\r\n    return queryString.parse(qStr);\r\n}\r\n","import React, {Component} from 'react';\r\n\r\n\r\nexport default class Search extends Component {\r\n    state = {\r\n        value: ''\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({value: e.target.value});\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.value);\r\n        this.setState({value: ''});\r\n    };\r\n\r\n    render(){\r\n        return(\r\n            <form onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" value={this.state.handleSubmit} onChange={this.handleChange}/>\r\n                <button type=\"submit\">Search</button>\r\n            </form>\r\n        );\r\n    }  \r\n}\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport API from '../../service/API';\r\nimport queryParams from '../../service/queryParams';\r\nimport Searching from '../../components/search/searching';\r\n\r\nexport default class MainPage extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n        findeMovies: [],\r\n    };\r\n\r\n    componentDidMount(){\r\n        const {query} = queryParams(this.props.location.search);\r\n        if (query) {\r\n            this.fetchMovies(query);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const {query: prevQuery} = queryParams(prevProps.location.search);\r\n        const {query: nextQuery} = queryParams(this.props.location.search);\r\n        if (prevQuery !== nextQuery) {\r\n            this.fetchMovies(nextQuery);\r\n        }\r\n    }\r\n\r\n    fetchMovies = query =>{\r\n        API.searchMovies(query).then(results => this.setState({findeMovies: results}));\r\n    };\r\n\r\n    changeQuery = query =>{\r\n        this.props.history.push({\r\n            ...this.props.location,\r\n            search: `query=${query}`,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { findeMovies } = this.state;\r\n        return(\r\n            <article>\r\n                <Searching onSubmit={this.changeQuery} />\r\n                {findeMovies.length > 0 &&(\r\n                    <ul>\r\n                        {findeMovies.map(movie =>(\r\n                            <li key={movie.id}>\r\n                              <Link to={{\r\n                                pathname: `/movie/${movie.id}`,\r\n                                state: {from: this.props.location},\r\n                            }}>\r\n                                {movie.title}\r\n                            </Link>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n            </article>\r\n        );\r\n    }\r\n}"],"sourceRoot":""}